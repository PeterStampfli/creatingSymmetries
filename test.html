<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8"/>
<head>
	<title>test</title>
	<style>
		body { 
			background-color:rgb(235,235,190);
			color:rgb(80,40,0);
		}

		a{
			color:black;
			text-decoration:none;
			border-style:solid;
			background-color:white;
			border-width:1px;
		}
		
		.numbers{
			width: 35px;
		}
	</style>
</head>
<body>
		<p>
			Choose the input image file:
			<input type="file" accept="image/*" id="imageInput" 
				>
		</p>

		<p>			
			<form action="">
				Choose image smoothing:
				<input type="radio" name="smoothing" class='smoothing' checked>none
				<input type="radio" name="smoothing" class='smoothing'>2x2
			</form>
		</p>
	<p style="text-align:center">
		<canvas id="outputCanvas" moz-opaque></canvas>
	</p>

</body>
	<script src="chooser.js"></script>
	<script src="button.js"></script>
	<script src="inputImage.js"></script>
	<script src="color.js"></script>
	<script src="mouseEvents.js"></script>
	<script src="mapInput.js"></script>
	<script src="mapOutput.js"></script>
	<script src="map.js"></script>
	<script src="funTest.js"></script>
	<script src="fastFunction.js"></script>
	<script type="text/javascript">
		console.log("hello");
		var smoothingChooser=new Chooser('smoothing');

		smoothingChooser.add(function(){
			console.log("0");
		})

		smoothingChooser.add(function(){
			console.log("1");
		})

		var inputImage=new InputImage();
		var c=new Color();

    var imageInputButton = new Button('imageInput');
    imageInputButton.onChange(function(){
    	console.log("www");
    	inputImage.read(imageInputButton.button.files[0],
    		function(input){
    			console.log("action"+input.width);
    			input.getNearest(c,23.4,56.3);
    			    console.log(c.toString());
			input.getLinear(c,23.4,56.3);
    			    console.log(c.toString());
			input.getCubic(c,23.4,56.3);
    			    console.log(c.toString());

    		})
           // imageReader.readAsDataURL(imageInputButton.button.files[0]);
        });


    outputCanvas = document.getElementById("outputCanvas");
    outputCanvas.width=200;
    outputCanvas.height=200;
    outputImage = outputCanvas.getContext("2d");
   outputImage.fillStyle = "Blue";
    outputImage.fillRect(0, 0, 200, 200);

    console.log(new Color().toString());
    c=new Color();
    c.setRgb(3,4,5);
    c.simpleInversion();
    console.log(c);
    c.improvedInversion();
    console.log(c.toString());
    c.rotation();
        console.log(c.toString());
   c.inverseRotation();
        console.log(c.toString());
        c.higFromRgb();
        console.log("*"+c.toString());
        c.simpleInversion();
        console.log(c.toString());
        c.rgbFromHig();
        console.log(c.toString());
        c.shiftHue(33);
        console.log(c.toString());
        console.log((6+2)>>2);

        var map=new Map();
        map.setSize(8,9);

var canvasMouse=new MouseEvents("outputCanvas");
canvasMouse.addDownAction(function(event){console.log("down");});
canvasMouse.addBasicDownUpOutActions();
canvasMouse.addMoveAction(canvasMouse.basicMoveAction);
canvasMouse.addWheelAction(canvasMouse.basicWheelAction);


var funTest=new FunTest();

funTest.trueFunction=function(x){
	return x;
}

funTest.approxFunction=function(x){
	return 1;
}


var fastSin=new FastFun();
fastSin.makePeriodicTable(10,Math.sin);
console.log(fastSin.sinLike(1));
funTest.trueFunction=Math.cos;
funTest.approxFunction=function(x){return fastSin.cosLike(x);};
var f=function(x){return x;};
console.log("*"+f(88));
console.log(function(event){console.log("down");})
funTest.compare(0,3,12,function(x){return fastSin.cosLike(x);});
funTest.timing(0,6,10000000);
var fastExp=new FastFun();
fastExp.makeExpTable(1000);

console.log(fastExp.exp(1));

funTest.trueFunction=Math.exp;
funTest.approxFunction=function(x){return fastExp.exp(x)};
funTest.compare(-1,0,20);
funTest.timing(0,6,10000000);

var fastLog=new FastFun();
fastLog.makeLogTable(1000);
console.log(fastLog.log(2.718));

	</script>
</html>
